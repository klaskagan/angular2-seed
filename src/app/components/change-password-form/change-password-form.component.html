<form [formGroup]="form" (ngSubmit)="onSubmit(form.value)">
  <div class="form-group">
    <label for="oldPw">Old password</label>
    <input id="oldPw" type="password" class="form-control" [formControl]="form.controls['oldPw']" #oldPw="ngForm">
    <div *ngIf="oldPw.touched && oldPw.errors" class="alert alert-danger">
      <div *ngIf="oldPw.errors.required">Old password is required</div>
      <div *ngIf="oldPw.errors.oldPwIsIncorrect">Old password is incorrect</div>
    </div>
  </div>
  <div class="form-group">
    <label for="newPw">New password</label>
    <input id="newPw" type="password" class="form-control" [formControl]="form.controls['newPw']" #newPw="ngForm">
    <div *ngIf="newPw.touched && newPw.errors" class="alert alert-danger">
      <div *ngIf="newPw.errors.required">New password is required</div>
      <div *ngIf="newPw.errors.minlength">Minimum length is {{newPw.errors.minlength.requiredLength}}</div>
    </div>
  </div>
  <div class="form-group">
    <label for="repeatPw">Repeat password</label>
    <input id="repeatPw" type="password" class="form-control" [formControl]="form.controls['repeatPw']" #repeatPw="ngForm">
      <div
        *ngIf="repeatPw.touched && !repeatPw.valid"
        class="alert alert-danger">
        Confirm the password.</div>
      <div *ngIf="repeatPw.touched && form.errors && form.errors.passwordsShouldMatch" class="alert alert-danger">Password do not match new password</div>
  </div>
  <button type="submit" class="btn btn-primary" >Change password</button>
</form>
